{% extends "layout.html" %}

{% block title %}User {{user.username}} â€“ Book review app{% endblock %}

{% block content %}
    <h2>{{ user.username }}</h2>

    <p>
        {% if not own_page %}
            {% if reviews|count == 0 %}
                {{ user.username }} has no book reviews yet.
            {% elif reviews|count == 1 %}
                {{ user.username }} has reviewed 1 book.
            {% else %}
                {{ user.username }} has reviewed {{ reviews|count }} books.
            {% endif %}

        {% else %}
            {% if reviews|count == 0 %}
                You don't have any book reviews yet.
            {% elif reviews|count == 1 %}
                You have reviewed 1 book.
            {% else %}
                You have reviewed {{ reviews|count }} books.
            {% endif %}
            <br /><br />
            <a href="/new_review">Add review</a>
        {% endif %}

    </p>
    {% if reviews|count != 0 %}
        <h2>Reviews:</h2>
        <ul>
        {% for review in reviews %}
            <li>
            <a href="/review/{{ review.id }}">{{ review.title }} by {{ review.author }}</a>
            {% if own_page %}
                <form action="/edit_review/{{ review.id }}" method="get" style="display:inline;">
                <button type="submit">Edit</button>
                </form>
                <form action="/delete_review/{{ review.id }}" method="get" style="display:inline;">
                <button type="submit">Delete</button>
                </form>
            {% endif %}
            </li>
        {% endfor %}
        </ul>
    {% endif %}

{% endblock %}