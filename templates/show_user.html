{% extends "layout.html" %}

{% block title %}User {{ user.username }} â€“ Book review app{% endblock %}

{% block content %}
    <h2>User {{ user.username }}</h2>

    <p class="review_line">
        {% if not own_page %}
            {% if reviews|count == 0 %}
                {{ user.username }} has no book reviews yet.
            {% elif reviews|count == 1 %}
                {{ user.username }} has reviewed 1 book.
            {% else %}
                {{ user.username }} has reviewed {{ reviews|count }} books.
            {% endif %}

        {% else %}
            {% if reviews|count == 0 %}
                You don't have any book reviews yet.
            {% elif reviews|count == 1 %}
                You have reviewed 1 book.
            {% else %}
                You have reviewed {{ reviews|count }} books.
            {% endif %}
        {% endif %}
    </p>

    {% if reviews|count != 0 %}
        <h3>Reviews:</h3>
        <ul class="reviews">
        {% for review in reviews %}
            <li class="review">
                <div class="review_line">
                    <a class="review_link" href="/review/{{ review.id }}">
                        {{ review.title }} by {{ review.author }}
                    </a>
                </div>

                {% if own_page %}
                    <div class="review_line">
                        <a class="navigation" href="/edit_review/{{ review.id }}">Edit</a>
                        <a class="logout_button" href="/delete_review/{{ review.id }}">Delete</a>
                    </div>
                {% endif %}
            </li>
        {% endfor %}
        </ul>
    {% endif %}

{% endblock %}