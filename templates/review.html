{% extends "layout.html" %}

{% block title %}Review – Book review app{% endblock %}

{% block content %}
    <h2>Review a book:</h2>
    <form action="/create_review" method="post">

        {% for class in classes %}
            <p>
                <label for="class_{{ class }}">{{ class|capitalize }}:</label><br>
                <select id="class_{{ class }}" name="classes" required>
                    <option value="" disabled selected>(select)</option>
                    {% for option in classes[class] %}
                    <option value="{{ class }}:{{ option }}">
                        {{ option }}
                    </option>
                    {% endfor %}
                </select>
            </p>
        {% endfor %}

        <p>
            <label for="title">Book title:</label><br>
            <input type="text" id="title" name="title" maxlength="100" size="86" required />
        </p>
        <p>
            <label for="author">Author of the book:</label><br>
            <input type="text" id="author" name="author" maxlength="50" size="86" required />
        </p>
        <p>
            <label for="review">Review:</label><br>
            <textarea id="review" name="review" rows="22" cols="97" required></textarea>
        </p>
        <p>
            <label for="grade">Grade 0–10:</label><br>
            <input type="number" id="grade" name="grade" min="0" max="10" required />
        </p>
        <input type="hidden" name="csrf_token" value="{{ session.csrf_token }}" />
        <input type="submit" value="Publish" />
    </form>
{% endblock %}